# 天凤牌谱分析器

天凤牌谱分析器是一个用于分析天凤麻将平台牌谱数据的工具，能够生成包含多种统计数据和可视化图表的HTML报告。

## 功能特点

- 分析天凤CSV格式牌谱数据
- 生成HTML格式的统计报告
- 提供多种统计指标：顺位率、吃分率、和了率等
- 生成多种可视化图表：顺位分布图、PT变化图、Rate变化图等
- 支持风格分析，生成个人打法风格雷达图
- 支持选择性分析最近N场对局

## 安装说明

### 环境要求

- Python 3.7 或更高版本
- 依赖库：pandas, numpy, matplotlib, seaborn 等

### 安装步骤

1. 克隆或下载本项目到本地

2. 安装依赖库：
```bash
pip install -r requirements.txt
```

## 使用方法

1. 准备天凤牌谱CSV文件
   - 从天凤平台导出个人对局记录CSV文件
   - 将CSV文件放在`示例csv`文件夹中

2. 运行主程序：
```bash
python csv数据分析.py
```

3. 按照程序提示操作：
   - 选择要分析的CSV文件
   - 输入要分析的最近牌谱数量（默认200）
   - 程序会自动生成分析报告并打开

## 分析报告说明

生成的HTML报告包含以下几个部分：

### 牌谱概览
显示基本统计信息的卡片视图，包括：
- 有效牌谱数
- 平均顺位
- 一位率、二位率、三位率、四位率
- 吃分率（一位和二位的总比率）
- 被飞率

### 统计指标
提供详细的统计数据，通过选项卡形式展示多种统计分类：
- 基本统计
- 详细指标
- PT统计（如有）
- Rate统计（如有）

### 图表分析
以选项卡形式展示各种可视化图表：
- 顺位分布图
- PT变化图
- Rate变化图
- 相关性分析热力图（如有）

### 风格分析
展示玩家的打牌风格分析：
- 风格雷达图
- 风格特征说明

## 主要文件说明

- `csv数据分析.py`: 主程序文件，用于分析CSV数据并生成HTML报告
- `html网页生成.py`: 用于生成HTML报告页面
- `四麻风格分析.py`: 实现麻将风格分析功能
- `pt变化图生成.py`: 生成PT变化图
- `rate变化图生成.py`: 生成Rate变化图
- `相关系数热力图生成.py`: 生成相关性分析热力图

## 自定义与扩展

如需自定义报告样式或添加新的分析功能，可以修改以下文件：
- `html网页生成.py`: 修改HTML报告的样式和结构
- `csv数据分析.py`: 添加新的数据分析逻辑
- 其他相关模块: 添加新的图表生成功能

## 注意事项

- 程序默认分析最近200场牌谱，可根据需要调整
- 生成的报告保存在"统计报告"文件夹中
- 分析结果的准确性取决于CSV文件中提供的数据完整性

## 示例

示例csv文件夹中已包含几个示例CSV文件，可以用于测试程序功能。

## 常见问题

1. **问题**: 程序无法读取CSV文件  
   **解决方案**: 确保CSV文件格式正确，编码为UTF-8

2. **问题**: 缺少某些图表  
   **解决方案**: 某些图表需要特定数据，如PT值或Rate值，如CSV中没有这些数据则不会生成相应图表

3. **问题**: HTML报告不显示图表  
   **解决方案**: 检查浏览器是否支持HTML5和JavaScript，尝试使用现代浏览器打开

---

希望这个工具能帮助您更好地分析和理解自己在天凤平台的对局数据！如有问题或建议，请联系开发者。 